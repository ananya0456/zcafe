<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Z-CAFE Lab - Home</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'IBM Plex Sans', sans-serif;
            background-color: #0d1a2f;
            color: #e2e8f0;
            margin: 0;
            overflow-x: hidden;
            padding-top: 64px;
        }

        .animate-on-scroll {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .animate-on-scroll:nth-child(1) { transition-delay: 0s; }
        .animate-on-scroll:nth-child(2) { transition-delay: 0.2s; }
        .animate-on-scroll:nth-child(3) { transition-delay: 0.4s; }
        .animate-on-scroll:nth-child(4) { transition-delay: 0.6s; }
        .animate-on-scroll:nth-child(5) { transition-delay: 0.8s; }

        .btn-primary {
            background-color: #3b82f6;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        .btn-primary:hover {
            background-color: #2563eb;
            box-shadow: 0 6px 16px rgba(59, 130, 246, 0.3);
        }

        .btn-secondary {
            background-color: transparent;
            color: #60a5fa;
            padding: 10px 20px;
            text-decoration: none;
            font-weight: 500;
            border: 1px solid #3b82f6;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .btn-secondary:hover {
            background-color: #3b82f6;
            color: #ffffff;
        }

        /* --- Header with Hexagon & Wave Animation --- */
        header {
            position: relative;
            overflow: hidden;
            background-color: #0d1a2f;
            height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #header-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        .header-content {
            position: relative;
            z-index: 2; /* Ensure content is above the fade */
        }
        /* Gradient fade at the bottom of the header */
        header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100px; /* Adjust height of the fade */
            background: linear-gradient(to top, #0d1a2f, transparent);
            z-index: 1; /* Position fade between canvas and content */
        }

        .fixed-nav {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            background-color: #0d1a2f;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }
        .fixed-nav ul li:not(:first-child) {
            border-left: 1px solid #374151;
            padding-left: 1rem;
        }

        /* --- Research Area Card Styling --- */
        .area-card {
            background-color: #1a273b;
            border: 1px solid #2d3748;
            transition: transform 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
        }
        .area-card:hover {
            transform: translateY(-5px);
            border-color: #3b82f6;
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.2);
        }
        .area-card h3 {
            color: #93c5fd;
        }
        .area-card svg {
            color: #60a5fa;
        }

        /* --- Sponsor Carousel Styling --- */
        .sponsor-carousel-container {
            -webkit-mask-image: linear-gradient(to right, transparent, white 5%, white 95%, transparent);
            mask-image: linear-gradient(to right, transparent, white 5%, white 95%, transparent);
        }
        .sponsor-carousel {
            scroll-behavior: smooth;
            scrollbar-width: none; /* For Firefox */
        }
        .sponsor-carousel::-webkit-scrollbar {
            display: none; /* For Chrome, Safari, and Opera */
        }
        .sponsor-card {
            flex: 0 0 200px; /* Flex-basis of 200px */
            max-width: 200px;
        }
        .carousel-arrow {
            background-color: rgba(59, 130, 246, 0.5);
            transition: background-color 0.3s ease;
        }
        .carousel-arrow:hover {
            background-color: rgba(59, 130, 246, 0.8);
        }
    </style>
</head>
<body>
    <nav class="fixed-nav py-4 px-6 flex justify-between items-center text-white">
        <div class="text-lg font-bold">Z-CAFE</div>
        <ul class="flex space-x-5">
            <li><a href="index.html" class="hover:text-blue-400 font-medium text-sm transition-colors duration-300">Home</a></li>
            <li><a href="team.html" class="hover:text-blue-400 font-medium text-sm transition-colors duration-300">Team</a></li>
            <li><a href="research.html" class="hover:text-blue-400 font-medium text-sm transition-colors duration-300">Research</a></li>
            <li><a href="highlights.html" class="hover:text-blue-400 font-medium text-sm transition-colors duration-300">Highlights</a></li>
            <li><a href="contact.html" class="hover:text-blue-400 font-medium text-sm transition-colors duration-300">Contact</a></li>
        </ul>
    </nav>

    <header class="text-center px-4 md:px-8 lg:px-16">
        <canvas id="header-canvas"></canvas>
        <div class="header-content max-w-4xl mx-auto">
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-gray-100 mb-4 animate-on-scroll">
                Zang's Computational Aging, Family, and Evidence Lab <br> (Z-CAFE)
            </h1>
            <p class="text-lg md:text-xl text-gray-300 mb-10 animate-on-scroll">
                Bringing data science to health, aging, and inequality research.
            </p>
            <a href="research.html" class="btn-primary inline-block text-base animate-on-scroll">Our Research</a>
        </div>
    </header>

    <section id="research-areas" class="py-20 px-4 md:px-8 lg:px-16 text-center">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-100 mb-12 animate-on-scroll">
                Research Areas
            </h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                <!-- Area 1 -->
                <div class="area-card p-6 rounded-lg shadow-lg animate-on-scroll">
                    <svg class="w-12 h-12 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M12 14a5 5 0 100-10 5 5 0 000 10z"></path></svg>
                    <h3 class="text-lg font-semibold">Family Demography</h3>
                </div>
                <!-- Area 2 -->
                <div class="area-card p-6 rounded-lg shadow-lg animate-on-scroll" style="transition-delay: 0.1s;">
                    <svg class="w-12 h-12 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"></path></svg>
                    <h3 class="text-lg font-semibold">Policy Evaluations</h3>
                </div>
                <!-- Area 3 -->
                <div class="area-card p-6 rounded-lg shadow-lg animate-on-scroll" style="transition-delay: 0.2s;">
                     <svg class="w-12 h-12 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>
                    <h3 class="text-lg font-semibold">Population Health</h3>
                </div>
                <!-- Area 4 -->
                <div class="area-card p-6 rounded-lg shadow-lg animate-on-scroll" style="transition-delay: 0.3s;">
                    <svg class="w-12 h-12 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                    <h3 class="text-lg font-semibold">Cognitive Aging</h3>
                </div>
                 <!-- Area 5 -->
                <div class="area-card p-6 rounded-lg shadow-lg animate-on-scroll" style="transition-delay: 0.4s;">
                    <svg class="w-12 h-12 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2h8a2 2 0 002-2v-1a2 2 0 012-2h1.945M7.737 11l-.262-2.835a1 1 0 01.99-1.13h7.07a1 1 0 01.99 1.13L16.263 11M12 16v4m-4-4v4m8-4v4"></path></svg>
                    <h3 class="text-lg font-semibold">China</h3>
                </div>
                <!-- Area 6 -->
                <div class="area-card p-6 rounded-lg shadow-lg animate-on-scroll" style="transition-delay: 0.5s;">
                    <svg class="w-12 h-12 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                    <h3 class="text-lg font-semibold">Health Disparities</h3>
                </div>
                <!-- Area 7 -->
                <div class="area-card p-6 rounded-lg shadow-lg animate-on-scroll" style="transition-delay: 0.6s;">
                    <svg class="w-12 h-12 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg>
                    <h3 class="text-lg font-semibold">Computational Social Science/AI</h3>
                </div>
                <!-- Area 8 -->
                <div class="area-card p-6 rounded-lg shadow-lg animate-on-scroll" style="transition-delay: 0.7s;">
                    <svg class="w-12 h-12 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"></path></svg>
                    <h3 class="text-lg font-semibold">Statistical Methods</h3>
                </div>
            </div>
        </div>
    </section>

    <!--MEET OUR TEAM, PREVIEW SECTION-->
    <section id="team-preview" class="py-20 px-4 md:px-8 lg:px-16 bg-[#111c2e]">
            <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12 items-center">
                <!-- Left Column: Title and Button -->
                <div class="md:col-span-1 text-center md:text-left animate-on-scroll">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-100 mb-4">Meet Our Team</h2>
                    <p class="text-gray-400 mb-8">
                        Our lab is comprised of dedicated faculty, postdocs, and students from diverse academic backgrounds.
                    </p>
                    <a href="team.html" class="btn-primary">View Full Team</a>
                </div>

                <!-- Right Column: Scrolling Photos -->
                <div class="md:col-span-2 team-scroll-container animate-on-scroll">
                    <div class="grid grid-cols-3 sm:grid-cols-4 gap-y-6 gap-x-4">
                        <!-- PI -->
                        <div class="text-center">
                            <img src="EmmaZang.png" alt="Emma Zang" class="w-24 h-24 rounded-full object-cover mx-auto mb-2 border-2 border-transparent hover:border-blue-500 transition-colors duration-300">
                            <span class="text-sm font-semibold text-gray-200 block">Emma Zang</span>
                            <span class="text-xs text-gray-400 block">PI</span>
                        </div>
                        <!-- Faculty -->
                        <div class="text-center">
                             <img src="Yifan.png" alt="Yifan Lou" class="w-24 h-24 rounded-full object-cover mx-auto mb-2 border-2 border-transparent hover:border-blue-500 transition-colors duration-300">
                             <span class="text-sm font-semibold text-gray-200 block">Yifan Lou</span>
                        </div>
                        <!-- Postdoc -->
                        <div class="text-center">
                            <img src="Yongxin.jpg" alt="Yongxin Shang" class="w-24 h-24 rounded-full object-cover mx-auto mb-2 border-2 border-transparent hover:border-blue-500 transition-colors duration-300">
                            <span class="text-sm font-semibold text-gray-200 block">Yongxin Shang</span>
                        </div>
                        <!-- Grad Students -->
                        <div class="text-center">
                            <img src="ZitongWang.png" alt="Zitong Wang" class="w-24 h-24 rounded-full object-cover mx-auto mb-2 border-2 border-transparent hover:border-blue-500 transition-colors duration-300">
                            <span class="text-sm font-semibold text-gray-200 block">Zitong Wang</span>
                        </div>
                        <div class="text-center">
                            <img src="siyao_lu.JPG" alt="Siyao Lu" class="w-24 h-24 rounded-full object-cover mx-auto mb-2 border-2 border-transparent hover:border-blue-500 transition-colors duration-300">
                            <span class="text-sm font-semibold text-gray-200 block">Siyao Lu</span>
                        </div>
                        <div class="text-center">
                            <img src="JasonWong.jpeg" alt="Jason Wong" class="w-24 h-24 rounded-full object-cover mx-auto mb-2 border-2 border-transparent hover:border-blue-500 transition-colors duration-300">
                            <span class="text-sm font-semibold text-gray-200 block">Jason Wong</span>
                        </div>
                        <div class="text-center">
                            <img src="Jiaowei_Gong.png" alt="Jiaowei Gong" class="w-24 h-24 rounded-full object-cover mx-auto mb-2 border-2 border-transparent hover:border-blue-500 transition-colors duration-300">
                            <span class="text-sm font-semibold text-gray-200 block">Jiaowei Gong</span>
                        </div>
                        <div class="text-center">
                            <img src="yishi_yin.jpg" alt="Yishi Yin" class="w-24 h-24 rounded-full object-cover mx-auto mb-2 border-2 border-transparent hover:border-blue-500 transition-colors duration-300">
                            <span class="text-sm font-semibold text-gray-200 block">Yishi Yin</span>
                        </div>
                        <!-- Undergrads -->
                        <div class="text-center">
                            <img src="melissa_tian.png" alt="Melissa Tian" class="w-24 h-24 rounded-full object-cover mx-auto mb-2 border-2 border-transparent hover:border-blue-500 transition-colors duration-300">
                            <span class="text-sm font-semibold text-gray-200 block">Melissa Tian</span>
                        </div>
                        <div class="text-center">
                            <img src="AviKabra.png" alt="Avi Kabra" class="w-24 h-24 rounded-full object-cover mx-auto mb-2 border-2 border-transparent hover:border-blue-500 transition-colors duration-300">
                            <span class="text-sm font-semibold text-gray-200 block">Avi Kabra</span>
                        </div>
                        <div class="text-center">
                            <img src="Valeri.jpg" alt="Valeri Vankov" class="w-24 h-24 rounded-full object-cover mx-auto mb-2 border-2 border-transparent hover:border-blue-500 transition-colors duration-300">
                            <span class="text-sm font-semibold text-gray-200 block">Valeri Vankov</span>
                        </div>
                        <div class="text-center">
                            <img src="ananya.png" alt="Ananya Vuppala" class="w-24 h-24 rounded-full object-cover mx-auto mb-2 border-2 border-transparent hover:border-blue-500 transition-colors duration-300">
                            <span class="text-sm font-semibold text-gray-200 block">Ananya Vuppala</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    <!-- Sponsors Section
    <section id="sponsors" class="py-16 px-4 md:px-8 lg:px-16 text-center bg-gray-900 bg-opacity-30">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-100 mb-12 animate-on-scroll">Our Sponsors & Grants</h2>
            <div class="relative">
                <button id="scroll-left" class="carousel-arrow absolute left-0 top-1/2 -translate-y-1/2 z-10 p-2 rounded-full">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                </button>
                <button id="scroll-right" class="carousel-arrow absolute right-0 top-1/2 -translate-y-1/2 z-10 p-2 rounded-full">
                     <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                </button>

                <div class="sponsor-carousel-container overflow-hidden">
                    <div id="sponsor-carousel" class="sponsor-carousel flex space-x-8 overflow-x-auto p-4">
                        <div class="sponsor-card text-center p-4">
                            <span class="text-gray-400">Eunice Kennedy Shriver National Institute of Child Health and Human Development</span>
                        </div>
                        <div class="sponsor-card text-center p-4">
                            <span class="text-gray-400">The Life Course Center, University of Minnesota Twin Cities</span>
                        </div>
                        <div class="sponsor-card text-center p-4">
                            <span class="text-gray-400">The Alzheimer’s Association and the National Alzheimer’s Coordinating Center (NACC)</span>
                        </div>
                        <div class="sponsor-card text-center p-4">
                            <span class="text-gray-400">National Institute on Aging</span>
                        </div>
                        <div class="sponsor-card text-center p-4">
                            <span class="text-gray-400">The Hong Kong Research Grant Council</span>
                        </div>
                        <div class="sponsor-card text-center p-4">
                            <span class="text-gray-400">National Institute on Aging (GEMSSTAR)</span>
                        </div>
                        <div class="sponsor-card text-center p-4">
                            <span class="text-gray-400">National Institute on Minority Health and Health Disparities</span>
                        </div>
                        <div class="sponsor-card text-center p-4">
                            <span class="text-gray-400">The National Science Fund of China for Distinguished Young Scholars</span>
                        </div>
                        <div class="sponsor-card text-center p-4">
                            <span class="text-gray-400">Ministry of Education of the People’s Republic of China</span>
                        </div>
                        <div class="sponsor-card text-center p-4">
                            <span class="text-gray-400">The ISPS-MacMillan Multidisciplinary Research Fund</span>
                        </div>
                        <div class="sponsor-card text-center p-4">
                            <span class="text-gray-400">Yale School of Management</span>
                        </div>
                        <div class="sponsor-card text-center p-4">
                            <span class="text-gray-400">The Whitney and Betty MacMillan Center for International and Area Studies, Yale University</span>
                        </div>
                        <div class="sponsor-card text-center p-4">
                            <span class="text-gray-400">Institution for Social and Policy Studies, Yale University</span>
                        </div>
                        <div class="sponsor-card text-center p-4">
                            <span class="text-gray-400">Planetary Solutions Project Seed Grant Program, Yale University</span>
                        </div>
                        <div class="sponsor-card text-center p-4">
                            <span class="text-gray-400">Education Studies Program, Yale University</span>
                        </div>
                        <div class="sponsor-card text-center p-4">
                            <span class="text-gray-400">Tobin Center for Economic Policy, Institution for Social and Policy Studies, and Faculty of Arts and Sciences, Yale University</span>
                        </div>
                        <div class="sponsor-card text-center p-4">
                            <span class="text-gray-400">Sanford School of Public Policy, Duke University</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    -->

    <!-- Footer -->
    <footer class="mt-20 py-10 px-4 md:px-8 lg:px-16 bg-gray-800 text-gray-300">
        <div class="max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-start space-y-8 md:space-y-0 md:space-x-8">
            <div class="flex-1 text-center md:text-left">
                <p class="text-lg font-bold text-gray-100 mb-2">Z-CAFE Lab</p>
                <p>&copy; 2025 Z-CAFE Lab</p>
                <p class="text-sm text-gray-400">Yale University</p>
            </div>
            <div class="flex-1 text-center md:text-left">
                <p class="text-base font-semibold text-gray-100 mb-2">Address</p>
                <p class="text-sm">210 Prospect St, New Haven, CT 06511</p>
            </div>
            <div class="flex-1 text-center md:text-left">
                <p class="text-base font-semibold text-gray-100 mb-2">Contact</p>
                <p class="text-sm">Phone: <a href="tel:+12034364181" class="hover:text-blue-400">203-436-4181</a></p>
                <p class="text-sm">Email: <a href="mailto:emma.zang@yale.edu" class="hover:text-blue-400">emma.zang@yale.edu</a></p>
            </div>
            <div class="flex-1 text-center md:text-right flex justify-center md:justify-end items-center">
              <img src="yale_logo.png" width="100" height="200" alt="Yale Picture";">
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Scroll-based animations
            const animateElements = document.querySelectorAll('.animate-on-scroll');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            animateElements.forEach(element => observer.observe(element));

            // --- Header Animation ---
            const canvas = document.getElementById('header-canvas');
            const ctx = canvas.getContext('2d');
            let hexagons = [];
            let waveParticles = [];
            let frame = 0;
            const mouse = { x: undefined, y: undefined };

            function resizeCanvas() {
                canvas.width = canvas.offsetWidth;
                canvas.height = canvas.offsetHeight;
                init();
            }
            window.addEventListener('resize', resizeCanvas);
            
            window.addEventListener('mousemove', (event) => {
                const rect = canvas.getBoundingClientRect();
                mouse.x = event.clientX - rect.left;
                mouse.y = event.clientY - rect.top;
            });
            window.addEventListener('mouseout', () => {
                mouse.x = undefined;
                mouse.y = undefined;
            });

            function drawHexagon(x, y, size, color) {
                ctx.beginPath();
                for (let i = 0; i < 6; i++) {
                    ctx.lineTo(x + size * Math.cos(i * Math.PI / 3), y + size * Math.sin(i * Math.PI / 3));
                }
                ctx.closePath();
                ctx.fillStyle = color;
                ctx.fill();
            }

            class Hexagon {
                constructor(x, y, size, speed, opacity) {
                    this.x = x;
                    this.y = y;
                    this.size = size;
                    this.speed = speed;
                    this.opacity = opacity;
                }
                update() {
                    this.y -= this.speed;
                    if (this.y < -this.size) {
                        this.y = canvas.height + this.size;
                        this.x = Math.random() * canvas.width;
                    }
                    if (mouse.x !== undefined) {
                        const dx = this.x - mouse.x;
                        const dy = this.y - mouse.y;
                        const dist = Math.sqrt(dx * dx + dy * dy);
                        if (dist < 100) {
                            this.x += (this.x - mouse.x) * 0.02;
                            this.y += (this.y - mouse.y) * 0.02;
                        }
                    }
                }
                draw() {
                    drawHexagon(this.x, this.y, this.size, `rgba(59, 130, 246, ${this.opacity})`);
                }
            }
            
            function connectHexagons() {
                for (let a = 0; a < hexagons.length; a++) {
                    for (let b = a; b < hexagons.length; b++) {
                        const dist = Math.hypot(hexagons[a].x - hexagons[b].x, hexagons[a].y - hexagons[b].y);
                        if (dist < 200) {
                            ctx.save();
                            ctx.globalAlpha = 1 - (dist / 200);
                            ctx.beginPath();
                            ctx.setLineDash([2, 5]);
                            ctx.moveTo(hexagons[a].x, hexagons[a].y);
                            ctx.lineTo(hexagons[b].x, hexagons[b].y);
                            ctx.strokeStyle = "rgba(96, 165, 250, 0.2)";
                            ctx.stroke();
                            ctx.restore();
                        }
                    }
                }
            }

            function init() {
                hexagons = [];
                waveParticles = [];
                for (let i = 0; i < 50; i++) {
                    const size = Math.random() * 30 + 10;
                    const x = Math.random() * canvas.width;
                    const y = Math.random() * canvas.height;
                    const speed = Math.random() * 0.3 + 0.1;
                    const opacity = Math.random() * 0.2 + 0.05;
                    hexagons.push(new Hexagon(x, y, size, speed, opacity));
                }
                for (let i = 0; i < canvas.width / 5; i++) {
                    waveParticles.push({ x: i * 5, y: canvas.height / 2 });
                }
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                hexagons.forEach(hex => hex.update());
                connectHexagons();
                hexagons.forEach(hex => hex.draw());
                ctx.beginPath();
                ctx.moveTo(0, canvas.height / 2);
                for (let i = 0; i < waveParticles.length; i++) {
                    let p = waveParticles[i];
                    let waveHeight = 20;
                    let mouseInfluence = 0;
                    if (mouse.x !== undefined && mouse.y !== undefined) {
                        const dx = p.x - mouse.x;
                        const dy = (canvas.height / 2) - mouse.y;
                        const dist = Math.sqrt(dx * dx + dy * dy);
                        if (dist < 150) {
                            mouseInfluence = (150 - dist) * 0.5;
                        }
                    }
                    const sinY = Math.sin(i * 0.1 + frame * 0.02) * (waveHeight + mouseInfluence);
                    p.y = canvas.height / 2 + sinY;
                    ctx.lineTo(p.x, p.y);
                    ctx.fillStyle = `rgba(200, 220, 255, ${0.5 + Math.sin(i * 0.1 + frame * 0.02) * 0.3})`;
                    ctx.fillRect(p.x, p.y, 2, 2);
                }
                ctx.strokeStyle = 'rgba(96, 165, 250, 0.2)';
                ctx.stroke();
                frame++;
                requestAnimationFrame(animate);
            }
            
            resizeCanvas();
            animate();

            // --- Sponsor Carousel Logic ---
            const carousel = document.getElementById('sponsor-carousel');
            const scrollLeftBtn = document.getElementById('scroll-left');
            const scrollRightBtn = document.getElementById('scroll-right');
            const carouselWrapper = carousel.closest('.relative');

            const originalContent = carousel.innerHTML;
            carousel.innerHTML += originalContent;

            let scrollInterval;

            const startScrolling = () => {
                clearInterval(scrollInterval); 
                scrollInterval = setInterval(() => {
                    carousel.scrollLeft += 1;
                    if (carousel.scrollLeft >= carousel.scrollWidth / 2) {
                        carousel.style.scrollBehavior = 'auto';
                        carousel.scrollLeft = 0;
                        carousel.style.scrollBehavior = 'smooth';
                    }
                }, 25);
            };

            const stopScrolling = () => {
                clearInterval(scrollInterval);
            };

            scrollLeftBtn.addEventListener('click', () => {
                const scrollAmount = carousel.clientWidth; 
                carousel.scrollLeft -= scrollAmount;
            });
            scrollRightBtn.addEventListener('click', () => {
                const scrollAmount = carousel.clientWidth;
                carousel.scrollLeft += scrollAmount;
            });

            carouselWrapper.addEventListener('mouseenter', stopScrolling);
            carouselWrapper.addEventListener('mouseleave', startScrolling);

            startScrolling();
        });
    </script>
</body>
</html>
