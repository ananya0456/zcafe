<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Z-CAFE Lab - Research</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'IBM Plex Sans', sans-serif;
            background-color: #0d1a2f;
            color: #e2e8f0;
            margin: 0;
            overflow-x: hidden;
            padding-top: 64px;
        }

        #background-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .animate-on-scroll {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        header {
            position: relative;
            background: transparent; /* Make header background see-through to the main canvas */
            overflow: hidden;
        }
        #header-viz {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        .header-content-wrapper {
            position: relative;
            z-index: 1;
        }

        .fixed-nav {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            background-color: #0d1a2f;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }
        .fixed-nav ul li {
            padding: 0 1rem;
        }
        .fixed-nav ul li:not(:first-child) {
            border-left: 1px solid #374151;
        }

        /* --- Research Card Styling --- */
        .research-card {
            background-color: rgba(26, 39, 59, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(59, 130, 246, 0.2);
            transition: transform 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
            border-radius: 0.5rem;
        }
        .research-card:hover {
            transform: translateY(-5px);
            border-color: rgba(59, 130, 246, 0.5);
            box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
        }
        .research-card h3 { color: #e5e7eb; }
        .research-card p { color: #9ca3af; }
        .research-card a { color: #60a5fa; }
        .research-card a:hover { color: #93c5fd; }
        .research-card .btn-primary {
             background-color: #3b82f6;
             color: white;
             padding: 8px 16px;
             border-radius: 6px;
             text-decoration: none;
             font-weight: 500;
             transition: background-color 0.3s ease;
        }
        .research-card .btn-primary:hover {
             background-color: #2563eb;
        }

        /* --- Vertical Filter Tabs Styling --- */
        .filter-container-vertical {
            display: flex;
            flex-direction: column;
            gap: 0.25rem; /* Reduced gap for a tighter list */
            align-items: flex-start;
        }
        .filter-tab {
            padding: 0.75rem 1rem;
            width: 100%;
            background-color: transparent;
            border: none;
            border-left: 3px solid transparent; /* Add space for the active border */
            color: #9ca3af;
            cursor: pointer;
            transition: color 0.3s, background-color 0.3s, border-color 0.3s;
            font-size: 0.9rem;
            text-align: left;
        }
        .filter-tab:hover {
            background-color: rgba(26, 39, 59, 0.5);
            color: #e5e7eb;
        }
        .filter-tab.active {
            background-color: transparent; /* No background highlight */
            color: #60a5fa; /* Bright blue text for active filter */
            font-weight: 600;
            border-left-color: #3b82f6; /* Use border to indicate active state */
        }

    </style>
</head>
<body>
    <canvas id="background-canvas"></canvas>
    <nav class="fixed-nav py-4 px-6 flex justify-between items-center text-white">
        <div class="text-lg font-bold">Z-CAFE</div>
        <ul class="flex">
            <li><a href="index.html" class="hover:text-blue-400 font-medium text-sm transition-colors duration-300">Home</a></li>
            <li><a href="team.html" class="hover:text-blue-400 font-medium text-sm transition-colors duration-300">Team</a></li>
            <li><a href="research.html" class="hover:text-blue-400 font-medium text-sm transition-colors duration-300">Research</a></li>
            <li><a href="highlights.html" class="hover:text-blue-400 font-medium text-sm transition-colors duration-300">Highlights</a></li>
            <li><a href="contact.html" class="hover:text-blue-400 font-medium text-sm transition-colors duration-300">Contact</a></li>
        </ul>
    </nav>

    <header class="py-20 px-4 md:px-8 lg:px-16">
        <canvas id="header-viz"></canvas>
        <div class="header-content-wrapper max-w-6xl mx-auto flex items-center justify-between">
            <div class="w-1/2 text-left animate-on-scroll">
                <h1 class="text-3xl md:text-4xl lg:text-5xl font-extrabold text-gray-100 mb-3">
                    Our Research
                </h1>
                <p class="text-md md:text-lg text-gray-400">
                    Exploring the intersections of computational methods, aging, family dynamics, and evidence-based policy.
                </p>
            </div>
        </div>
    </header>

    <main class="py-20 px-4 md:px-8 lg:px-16">
        <div class="max-w-5xl mx-auto">

            <!-- CURRENT PROJECTS -->
            <section class="mb-16">
                <h2 class="text-2xl md:text-3xl font-bold text-blue-300 mb-8 animate-on-scroll">Current Projects</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="research-card p-6 animate-on-scroll">
                        <h3 class="text-xl font-semibold mb-3">Unplanned Misallocation: Gender and Spousal Spillover Effects of Retirement on Time Use</h3>
                        <p class="mb-4">
                            Gong, Jiaowei., Yifan Lou, Emma Zang.
                        </p>
                        <a href="#" class="btn-primary inline-block text-sm">Learn More</a>
                    </div>
                    <div class="research-card p-6 animate-on-scroll">
                        <h3 class="text-xl font-semibold mb-3">Childhood Upward Mobility Context and Health in Early Adulthood</h3>
                        <p class="mb-4">
                            Zang, Emma., Meera Choi*, Melissa Tian*.
                        </p>
                        <a href="#" class="btn-primary inline-block text-sm">Learn More</a>
                    </div>
                    <div class="research-card p-6 animate-on-scroll">
                        <h3 class="text-xl font-semibold mb-3">Property Division Law and Investment in Household Public Goods: Evidence in China</h3>
                        <p class="mb-4">
                            Zang, Emma., Xi Yang, ZitongWang*, Ang Sun.
                        </p>
                        <a href="#" class="btn-primary inline-block text-sm">Learn More</a>
                    </div>
                    <div class="research-card p-6 animate-on-scroll">
                        <h3 class="text-xl font-semibold mb-3">Teenage Pregnancy’s Spillover Effects Revisited</h3>
                        <p class="mb-4">
                            Zang, Emma., Keitaro Okura, Haolun Li.
                        </p>
                        <a href="#" class="btn-primary inline-block text-sm">Learn More</a>
                    </div>
                    <div class="research-card p-6 animate-on-scroll">
                        <h3 class="text-xl font-semibold mb-3">Clean Air Act 1990 and Its Long-Term Impact on Children’s Educational Performance.</h3>
                        <p class="mb-4">
                            Li, Haolun., Emma Zang.
                        </p>
                        <a href="#" class="btn-primary inline-block text-sm">Learn More</a>
                    </div>
                    <div class="research-card p-6 animate-on-scroll">
                        <h3 class="text-xl font-semibold mb-3">Protests and Healthcare Utilization</h3>
                        <p class="mb-4">
                            Zang, Emma., Yining Yang.
                        </p>
                        <a href="#" class="btn-primary inline-block text-sm">Learn More</a>
                    </div>
                </div>
            </section>

            <br>
            <br>

            <!-- Recent Publications-->
            <section id="publications-section" class="mb-16">
                <h2 class="text-2xl md:text-3xl font-bold text-blue-300 mb-8">Recent Publications</h2>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8 md:gap-12">
                    <!-- Left Column: Filters -->
                    <div class="md:col-span-1">
                            <div id="filter-container" class="filter-container-vertical">
                            <!-- Filter tabs will be inserted here by JS -->
                        </div>
                    </div>
                    <!-- Right Column: Publications -->
                    <div class="md:col-span-3">
                        <div id="publications-grid" class="grid grid-cols-1 gap-8">
                            <!-- Publications will be dynamically inserted here -->
                        </div>
                    </div>
                </div>
            </section>

            <br>
            <br>

            <!--
            <!- - RECENT PUBLICATIONS V2 - ->
            <section>
                <h2 class="text-2xl md:text-3xl font-bold text-blue-300 mb-8 animate-on-scroll">Recent Publications</h2>
                <div class="grid grid-cols-1 gap-8">
                    <div class="research-card p-6 animate-on-scroll text-left">
                        <h3 class="text-xl font-semibold mb-2">Regional disparities in cognitive life expectancy: The role of birth and current residence in the United States</h3>
                        <p class="text-sm mb-3">
                            <span class="font-semibold text-gray-300">Summary:</span> This study, analyzing data from over 19,000 Americans aged 50 and older from the Health and Retirement Study (1998-2020), investigates the impact of birth region and current residence on cognitive health, 
                            finding that region of birth plays a more significant role than current residence in determining cognitive life expectancy. The key findings reveal a distinct disadvantage for individuals born in the South, who are expected to have fewer cognitively healthy years 
                            and more years with dementia, regardless of where they live later in life. The study also identifies a "Western birth disadvantage," particularly for women, who are projected to spend a higher percentage of their later years with cognitive impairment, even if it 
                            doesn't progress to full dementia. The authors conclude that early-life geographic exposures have a lasting impact, suggesting that historical conditions in the South and West can shape cognitive health decades later.
                        </p>
                        <!- -
                        <p class="text-sm mb-3">
                            <span class="font-semibold text-gray-300">Key Figures:</span> text.
                        </p>
                        - ->
                        <p class="text-sm mb-3">
                            <span class="font-semibold text-gray-300">Date:</span> April 30, 2025
                        </p>
                        <div class="flex flex-wrap gap-3">
                            <a href="https://doi.org/10.1016/j.healthplace.2025.103475" target="_blank" rel="noopener noreferrer" class="hover:underline text-sm font-medium">View Paper</a>
                        </div>
                    </div>
                    <div class="research-card p-6 animate-on-scroll text-left">
                        <h3 class="text-xl font-semibold mb-2">Linked Lives: Dyadic Trajectories of Cognitive Function Among Middle-Aged and Older Couples</h3>
                        <p class="text-sm mb-3">
                            <span class="font-semibold text-gray-300">Summary:</span> This study examines the linked trajectories of cognitive function in 2,130 middle-aged and older heterosexual couples in China from 2011 to 2020. The researchers identified two main patterns: the 
                            majority of couples (81.6%) showed high, stable cognitive function over time (with husbands often starting at a slightly higher level), while a smaller group (18.4%) was characterized by the husband experiencing a more rapid cognitive decline than his wife. 
                            Membership in this latter group was associated with the husband being older, having more functional limitations, and the couple living in a rural area. Critically, couples where the husband's cognitive function declined rapidly both reported significantly 
                            higher levels of depressive symptoms, highlighting how changes in one partner's cognitive health can impact the mental well-being of both spouses.
                        </p>
                        <!- -
                        <p class="text-sm mb-3">
                            <span class="font-semibold text-gray-300">Key Figures:</span> Figure 1 outlines the new algorithm flow. Figure 3 displays the validation results, highlighting a [percentage] improvement in accuracy compared to existing methods.
                        </p>
                        - ->
                        <p class="text-sm mb-3">
                            <span class="font-semibold text-gray-300">Date:</span> April 25, 2025
                        </p>
                        <div class="flex flex-wrap gap-3">
                            <a href="https://doi.org/10.1093/geronb/gbaf063" target="_blank" rel="noopener noreferrer" class="hover:underline text-sm font-medium">View Paper</a>
                        </div>
                    </div>
                </div>
            </section>
            -->

            <br>
            <br>

            <!-- TOOLS SECTION -->
            <section>
                <h2 class="text-2xl md:text-3xl font-bold text-blue-300 mb-8 animate-on-scroll">Tools</h2>
                <div class="grid grid-cols-1 gap-8">
                    <!-- Tool 1: bayesmlogit -->
                    <div class="research-card p-6 animate-on-scroll text-left">
                        <h3 class="text-xl font-semibold mb-2">bayesmlogit: Bayesian Multistate Life Table Method for Complex State Spaces</h3>
                        <p class="text-sm mb-3">
                            <span class="font-semibold text-gray-300">Authors:</span> Zang, Emma; Xuezhixing Zhang; Scott Lynch
                        </p>
                        <div class="flex flex-wrap items-center gap-4">
                            <a href="https://github.com/dewelve/bayesmlogit" target="_blank" rel="noopener noreferrer" class="flex items-center hover:underline text-sm font-medium">
                                <!-- GitHub Icon -->
                                <svg class="w-5 h-5 mr-1" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.419 2.865 8.163 6.839 9.48.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.465-1.11-1.465-.908-.62.069-.608.069-.608 1.004.07 1.531 1.032 1.531 1.032.892 1.529 2.341 1.085 2.91.823.092-.64.354-1.085.64-1.336-2.22-.253-4.555-1.116-4.555-4.949 0-1.092.39-1.988 1.029-2.68a3.73 3.73 0 01-.103-1.992s.827-.268 2.75 1.025c.78-.216 1.606-.324 2.433-.324.827 0 1.653.108 2.433.324 1.923-1.293 2.75-1.025 2.75-1.025.018.527-.038 1.03-.103 1.992.64.692 1.029 1.588 1.029 2.68 0 3.841-2.339 4.69-4.566 4.94.359.309.678.92.678 1.855 0 1.336-.012 2.417-.012 2.747 0 .267.18.577.688.48C21.137 20.166 24 16.419 24 12c0-5.523-4.477-10-10-10z" clip-rule="evenodd"/>
                                </svg>
                                GitHub
                            </a>
                            <a href="https://cran.r-project.org/web/packages/bayesmlogit/index.html" target="_blank" rel="noopener noreferrer" class="flex items-center hover:underline text-sm font-medium">
                                <!-- CRAN/Package Icon -->
                                <svg class="w-5 h-5 mr-1" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path d="M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2zM9 7h6v2H9V7zm0 4h6v2H9v-2zm0 4h6v2H9v-4z"/>
                                </svg>
                                CRAN
                            </a>
                        </div>
                    </div>

                    <!-- Tool 2: BayesTraj -->
                    <div class="research-card p-6 animate-on-scroll text-left">
                        <h3 class="text-xl font-semibold mb-2">BayesTraj: Bayesian estimation of Group Based Trajectory Models</h3>
                        <p class="text-sm mb-3">
                            <span class="font-semibold text-gray-300">Authors:</span> Zang, Emma; Justin T. Max
                        </p>
                        <div class="flex flex-wrap items-center gap-4">
                            <a href="https://github.com/jtm508/bayestraj" target="_blank" rel="noopener noreferrer" class="flex items-center hover:underline text-sm font-medium">
                                <!-- GitHub Icon -->
                                <svg class="w-5 h-5 mr-1" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.419 2.865 8.163 6.839 9.48.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.465-1.11-1.465-.908-.62.069-.608.069-.608 1.004.07 1.531 1.032 1.531 1.032.892 1.529 2.341 1.085 2.91.823.092-.64.354-1.085.64-1.336-2.22-.253-4.555-1.116-4.555-4.949 0-1.092.39-1.988 1.029-2.68a3.73 3.73 0 01-.103-1.992s.827-.268 2.75 1.025c.78-.216 1.606-.324 2.433-.324.827 0 1.653.108 2.433.324 1.923-1.293 2.75-1.025 2.75-1.025.018.527-.038 1.03-.103 1.992.64.692 1.029 1.588 1.029 2.68 0 3.841-2.339 4.69-4.566 4.94.359.309.678.92.678 1.855 0 1.336-.012 2.417-.012 2.747 0 .267.18.577.688.48C21.137 20.166 24 16.419 24 12c0-5.523-4.477-10-10-10z" clip-rule="evenodd"/>
                                </svg>
                                GitHub
                            </a>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="mt-20 py-10 px-4 md:px-8 lg:px-16 bg-gray-800 text-gray-300">
        <div class="max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-start space-y-8 md:space-y-0 md:space-x-8">
            <div class="flex-1 text-center md:text-left">
                <p class="text-lg font-bold text-gray-100 mb-2">Z-CAFE Lab</p>
                <p>&copy; 2025 Z-CAFE Lab</p>
                <p class="text-sm text-gray-400">Yale University</p>
            </div>
            <div class="flex-1 text-center md:text-left">
                <p class="text-base font-semibold text-gray-100 mb-2">Address</p>
                <p class="text-sm">210 Prospect St, New Haven, CT 06511</p>
            </div>
            <div class="flex-1 text-center md:text-left">
                <p class="text-base font-semibold text-gray-100 mb-2">Contact</p>
                <p class="text-sm">Phone: <a href="tel:+12034364181" class="hover:text-blue-400">203-436-4181</a></p>
                <p class="text-sm">Email: <a href="mailto:emma.zang@yale.edu" class="hover:text-blue-400">emma.zang@yale.edu</a></p>
            </div>
            <div class="flex-1 text-center md:text-right flex justify-center md:justify-end items-center">
              <img src="yale_logo.png" width="100" height="200" alt="Yale Picture";">
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Scroll-based animations
            const animateElements = document.querySelectorAll('.animate-on-scroll');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            animateElements.forEach(element => observer.observe(element));



            // --- Data for Research Items ---
            const researchAreas = [
                'All', 'Family Demography', 'Policy Evaluations', 'Population Health', 
                'Cognitive Aging', 'China', 'Health Disparities', 
                'Computational Social Science/AI', 'Statistical Methods'
            ];

            const allItems = [
                // Publications
                { type: 'publication', title: "Regional disparities in cognitive life expectancy: The role of birth and current residence in the United States", 
                    summary: "A study of older Americans found that birth region is a more significant predictor of long-term cognitive health than current residence. People born in the South tend to have fewer cognitively healthy years and more years with dementia, irrespective of where they live later in life. A similar disadvantage was found for those born in the West, especially women. The findings suggest that early-life geographic conditions have a lasting impact on cognitive health in old age.", 
                    date: "April 30, 2025", links: { "View Paper": "https://doi.org/10.1016/j.healthplace.2025.103475"}, 
                    categories: ['Statistical Methods', 'Population Health'] },
                { type: 'publication', title: "Linked Lives: Dyadic Trajectories of Cognitive Function Among Middle-Aged and Older Couples", 
                summary: "A study of older Chinese couples found a direct link between a husband's rapid cognitive decline and higher rates of depression in both spouses. While most couples maintained stable cognitive function, this specific pattern of the husband's decline was associated with factors like older age and rural residence, highlighting how one partner's cognitive health strongly impacts the other's mental well-being.", 
                date: "April 25, 2025", links: { "View Paper": "https://doi.org/10.1093/geronb/gbaf063"}, 
                categories: ['All', 'China', 'Cognitive Aging', 'Population Health'] },
                { type: 'publication', title: "Incidence of Frailty, Dementia, and Disability Among Community-Living Older Americans According to County-Level Disadvantage", 
                summary: "'Community-living older Americans who reside in disadvantaged counties have a higher incidence of frailty, probable dementia, and ADL disability over a 5-year follow-up period compared to their non-disadvantaged counterparts. Findings underscore the vital, underappreciated role that county-level social contextual disadvantage plays on clinically meaningful outcomes in older persons in the U.S.'", 
                date: "April 8, 2025", links: { "View Paper": "https://doi.org/10.1111/jgs.19465"}, 
                categories: ['All', 'Population Health'] },
                { type: 'publication', title: "Critical Illness, Major Surgery, and Other Hospitalizations and Active and Disabled Life Expectancy", 
                summary: "This study of older adults in Connecticut found that hospitalizations for critical illness and major non-elective surgeries significantly reduce the number of years a person can expect to live without disability. In contrast, major elective surgeries did not have the same negative impact. The findings suggest that preventing serious illnesses and injuries, along with providing better post-hospitalization care, could lead to more years of independent living for older adults.", 
                date: "April 3, 2025", links: { "View Paper": "https://jamanetwork.com/journals/jamanetworkopen/fullarticle/2832133"}, 
                categories: ['All', 'Population Health'] },
                { type: 'publication', title: "Novel indices of state- and county-level social disadvantage in older Americans and disparities in mortality", 
                summary: "This study developed new indices to measure social disadvantage for older Americans at both the state and county levels. The research confirmed that older adults in areas identified as 'disadvantaged' by these indices face a significantly higher risk of mortality. This highlights the critical role that geographic location plays in the health and longevity of older populations.", 
                date: "March 8, 2025", links: { "View Paper": "https://doi.org/10.1016/j.healthplace.2025.103438"}, 
                categories: ['All', 'Population Health', 'Health Disparities'] },
                { type: 'publication', title: "Explaining Racial and Ethnic Disparities in Advance Care Planning: A Decomposition Analysis", 
                summary: "This study reveals significant racial disparities in end-of-life planning, with Hispanic and Black older adults participating less than their White counterparts. These gaps are largely driven by differences in education, socioeconomic status, and healthcare access.", 
                date: "February 21, 2025", links: { "View Paper": "https://doi.org/10.1016/j.jpainsymman.2025.02.014"}, 
                categories: ['All', 'Population Health', 'Health Disparities', 'Policy Evaluations'] },
                { type: 'publication', title: "title", 
                summary: "summary", 
                date: "date", links: { "View Paper": "link"}, 
                categories: ['All', 'Population Health'] },
                { type: 'publication', title: "title", 
                summary: "summary", 
                date: "date", links: { "View Paper": "link"}, 
                categories: ['All', 'Population Health'] },
                { type: 'publication', title: "title", 
                summary: "summary", 
                date: "date", links: { "View Paper": "link"}, 
                categories: ['All', 'Population Health'] },
            ];

            const filterContainer = document.getElementById('filter-container');
            const publicationsGrid = document.getElementById('publications-grid');
            
            // --- Create and Render Filter Tabs ---
            //const allCategories = [...researchAreas];
            const allCategories = ['All', ...researchAreas];
            filterContainer.innerHTML = allCategories.map(cat => `<button class="filter-tab ${cat === 'All' ? 'active' : ''}" data-category="${cat}">${cat}</button>`).join('');
            
            // --- Render Static Content (Projects & Tools) ---
            function renderStaticContent() {
                const projects = allItems.filter(item => item.type === 'project');
                const tools = allItems.filter(item => item.type === 'tool');

                projectsGrid.innerHTML = projects.map(p => `
                    <div class="research-card p-6">
                        <h3 class="text-xl font-semibold mb-3">${p.title}</h3>
                        <p class="text-gray-400 mb-4 text-sm">${p.authors}</p>
                        <a href="#" class="font-semibold hover:underline mt-auto self-start">Learn More &rarr;</a>
                    </div>`).join('');
                
                toolsGrid.innerHTML = tools.map(t => `
                     <div class="research-card p-6 text-left">
                        <h3 class="text-xl font-semibold mb-2">${t.title}</h3>
                        <p class="text-sm mb-3 text-gray-300"><strong>Authors:</strong> ${t.authors}</p>
                        <div class="flex flex-wrap items-center gap-4">${Object.entries(t.links).map(([text, url]) => `<a href="${url}" target="_blank" rel="noopener noreferrer" class="flex items-center hover:underline text-sm font-medium">${text}</a>`).join('')}</div>
                    </div>`).join('');
            }

            // --- Render Filtered Publications ---
            function renderFilteredPublications(category) {
                const allPublications = allItems.filter(item => item.type === 'publication');
                const filteredPublications = category === 'All' 
                    ? allPublications 
                    : allPublications.filter(item => item.categories.includes(category));

                publicationsGrid.innerHTML = filteredPublications.map(p => `
                    <div class="research-card p-6 text-left">
                        <h3 class="text-xl font-semibold mb-2">${p.title}</h3>
                        <p class="text-gray-400 text-sm mb-3">${p.summary}</p>
                        <p class="text-gray-500 text-xs mb-3"><strong>Date:</strong> ${p.date}</p>
                        <div class="flex flex-wrap gap-x-4 gap-y-1">${Object.entries(p.links).map(([text, url]) => `<a href="${url}" target="_blank" rel="noopener noreferrer" class="hover:underline text-sm font-medium">${text}</a>`).join('')}</div>
                    </div>`).join('');
            }

            // --- Add Event Listeners to Tabs ---
            const tabs = document.querySelectorAll('.filter-tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    renderFilteredPublications(tab.dataset.category);
                });
            });

            // --- Initial Render ---
            renderStaticContent();
            renderFilteredPublications('All');



            // --- Full Page Subtle Wave Animation ---
            const bgCanvas = document.getElementById('background-canvas');
            const bgCtx = bgCanvas.getContext('2d');
            let bgFrame = 0;
            let bgWaves = [];

            function resizeBgCanvas() {
                bgCanvas.width = window.innerWidth;
                bgCanvas.height = window.innerHeight;
                initBg();
            }
            window.addEventListener('resize', resizeBgCanvas);

            class BgWave {
                 constructor(config) {
                    this.color = config.color;
                    this.amplitude = config.amplitude;
                    this.frequency = config.frequency;
                    this.phase = Math.random() * Math.PI * 2;
                    this.yOffset = Math.random() * bgCanvas.height;
                }
                draw() {
                    bgCtx.beginPath();
                    bgCtx.strokeStyle = this.color;
                    bgCtx.lineWidth = 1;
                    for (let x = 0; x < bgCanvas.width; x++) {
                        const y = (Math.sin(x * this.frequency + bgFrame * 0.005 + this.phase) * this.amplitude) + this.yOffset;
                        bgCtx.lineTo(x, y);
                    }
                    bgCtx.stroke();
                }
            }

            function initBg() {
                bgWaves = [];
                const waveConfigs = [
                    { color: 'rgba(59, 130, 246, 0.05)', amplitude: 50, frequency: 0.01 },
                    { color: 'rgba(96, 165, 250, 0.05)', amplitude: 60, frequency: 0.008 },
                    { color: 'rgba(255, 255, 255, 0.05)', amplitude: 40, frequency: 0.012 },
                ];
                // **FIX**: Reduced the number of waves from 15 to 8 for a less crowded effect.
                for(let i = 0; i < 8; i++) { 
                    const config = waveConfigs[i % waveConfigs.length];
                    bgWaves.push(new BgWave(config));
                }
            }

            function animateBg() {
                bgCtx.clearRect(0, 0, bgCanvas.width, bgCanvas.height);
                bgWaves.forEach(wave => wave.draw());
                bgFrame++;
                requestAnimationFrame(animateBg);
            }

            resizeBgCanvas();
            animateBg();

            // --- Header Data Wave Visualization ---
            const headerCanvas = document.getElementById('header-viz');
            const headerCtx = headerCanvas.getContext('2d');
            let frame = 0;
            let waves = [];

            function resizeHeaderCanvas() {
                headerCanvas.width = headerCanvas.parentElement.offsetWidth;
                headerCanvas.height = headerCanvas.parentElement.offsetHeight;
                initHeader();
            }
            window.addEventListener('resize', resizeHeaderCanvas);

            class Wave {
                constructor(config) {
                    this.color = config.color;
                    this.amplitude = config.amplitude;
                    this.frequency = config.frequency;
                    this.phase = Math.random() * Math.PI * 2;
                    this.dots = [];
                    for(let i = 0; i < config.dotCount; i++) {
                        this.dots.push({
                            xOffset: Math.random() * headerCanvas.width,
                            size: Math.random() * 2 + 1,
                            color: config.dotColors[Math.floor(Math.random() * config.dotColors.length)]
                        });
                    }
                }
                draw() {
                    headerCtx.beginPath();
                    headerCtx.strokeStyle = this.color;
                    headerCtx.lineWidth = 1.5;
                    
                    for (let x = 0; x < headerCanvas.width; x++) {
                        const y = (Math.sin(x * this.frequency + frame * 0.01 + this.phase) * this.amplitude) +
                                  (Math.sin(x * this.frequency * 0.5 + frame * 0.005 + this.phase) * (this.amplitude * 0.4)) +
                                  headerCanvas.height / 2;
                        headerCtx.lineTo(x, y);
                    }
                    headerCtx.stroke();

                    this.dots.forEach(dot => {
                        const x = (dot.xOffset + frame * 0.8) % headerCanvas.width;
                        const y = (Math.sin(x * this.frequency + frame * 0.01 + this.phase) * this.amplitude) +
                                  (Math.sin(x * this.frequency * 0.5 + frame * 0.005 + this.phase) * (this.amplitude * 0.4)) +
                                  headerCanvas.height / 2;
                        
                        headerCtx.beginPath();
                        headerCtx.arc(x, y, dot.size, 0, Math.PI * 2);
                        headerCtx.fillStyle = dot.color;
                        headerCtx.fill();
                    });
                }
            }

            function initHeader() {
                waves = [];
                const waveConfigs = [
                    { color: 'rgba(96, 165, 250, 0.5)', amplitude: 30, frequency: 0.02, dotCount: 5, dotColors: ['#f87171', '#fb923c'] },
                    { color: 'rgba(255, 255, 255, 0.4)', amplitude: 40, frequency: 0.015, dotCount: 8, dotColors: ['#60a5fa', '#ffffff'] },
                    { color: 'rgba(59, 130, 246, 0.3)', amplitude: 20, frequency: 0.03, dotCount: 4, dotColors: ['#f472b6'] }
                ];
                waveConfigs.forEach(config => waves.push(new Wave(config)));
            }
            
            function animateHeader() {
                headerCtx.clearRect(0, 0, headerCanvas.width, headerCanvas.height);
                
                // Create a gradient mask to fade the animation on the left
                const gradient = headerCtx.createLinearGradient(0, 0, headerCanvas.width, 0);
                gradient.addColorStop(0, 'rgba(13, 26, 47, 1)');
                gradient.addColorStop(0.5, 'rgba(13, 26, 47, 0)');
                gradient.addColorStop(1, 'rgba(13, 26, 47, 0)');

                waves.forEach(wave => wave.draw());

                headerCtx.fillStyle = gradient;
                headerCtx.fillRect(0, 0, headerCanvas.width, headerCanvas.height);

                frame++;
                requestAnimationFrame(animateHeader);
            }
            
            resizeHeaderCanvas();
            animateHeader();
        });
    </script>
</body>
</html>
